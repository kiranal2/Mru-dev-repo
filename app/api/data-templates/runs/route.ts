import { NextRequest, NextResponse } from "next/server";

// Mock runs data based on the provided JSON
const MOCK_RUNS = [
  {
    template_id: "4d23d656-ea96-4a5c-a580-0b8632101a7e",
    template_name: "AR Aging",
    template_version: "v1.0",
    prompt_text: "Give me the AP Aging Detail for BetaFoods Inc",
    run_id: "67071612-37a8-4ded-9e70-51efe376d3f0",
    run_version: "v1.0",
    run_by: {
      user_id: "8d9d7b09-666e-4585-8372-1197e880baaa",
      first_name: "Aditya",
      last_name: "S",
    },
    parameters: "Aging As Of: 2025-09-02",
    start_time: "2025-09-16T15:13:19.494450+00:00",
    end_time: "2025-09-16T15:13:43.358347+00:00",
    status: "completed",
  },
  {
    template_id: "4d23d656-ea96-4a5c-a580-0b8632101a7e",
    template_name: "AR Aging",
    template_version: "v1.0",
    prompt_text: "Give me the AP Aging Detail for BetaFoods Inc",
    run_id: "72e62d76-68f8-4fc1-8136-0a94b53816bb",
    run_version: "v1.0",
    run_by: {
      user_id: "8d9d7b09-666e-4585-8372-1197e880baaa",
      first_name: "Aditya",
      last_name: "S",
    },
    parameters: "Aging As Of: 2025-09-04",
    start_time: "2025-09-16T15:10:06.551977+00:00",
    end_time: "2025-09-16T15:10:28.079790+00:00",
    status: "completed",
  },
  {
    template_id: "a1b2c3d4-e5f6-4a5c-a580-0b8632101a7e",
    template_name: "AP Aging Report",
    template_version: "v1.0",
    prompt_text: "Show me all AP aging details for vendors with outstanding balances over $10,000",
    run_id: "a1b2c3d4-e5f6-4a5c-a580-0b8632101a7e",
    run_version: "v1.0",
    run_by: {
      user_id: "9e0e8c1a-777f-4696-9483-22a8e991cbbb",
      first_name: "John",
      last_name: "Doe",
    },
    parameters: "Vendor Balance Threshold: $10,000, As Of: 2025-10-15",
    start_time: "2025-10-15T14:30:22.123456+00:00",
    end_time: "2025-10-15T14:35:45.234567+00:00",
    status: "completed",
  },
  {
    template_id: "b2c3d4e5-f6a7-4b6d-b691-1c9743212b8f",
    template_name: "Revenue Recognition",
    template_version: "v2.0",
    prompt_text:
      "Generate revenue recognition report for the current month including deferred revenue breakdown",
    run_id: "b2c3d4e5-f6a7-4b6d-b691-1c9743212b8f",
    run_version: "v2.0",
    run_by: {
      user_id: "af1f9d2b-888g-57a7-a594-33b9f0a2dccc",
      first_name: "Sarah",
      last_name: "Johnson",
    },
    parameters: "Period: November 2025, Include Deferred: Yes",
    start_time: "2025-11-01T10:20:15.789012+00:00",
    end_time: "2025-11-01T10:28:30.890123+00:00",
    status: "completed",
  },
  {
    template_id: "c3d4e5f6-a7b8-4c7e-d803-3e1965434d0h",
    template_name: "Quarterly Cash Flow Analysis",
    template_version: "v1.5",
    prompt_text: "Show cash inflows and outflows for the last 30 days grouped by category",
    run_id: "c3d4e5f6-a7b8-4c7e-d803-3e1965434d0h",
    run_version: "v1.5",
    run_by: {
      user_id: "bg2g0e3c-999h-68b8-b6a5-44c0g1b3eddd",
      first_name: "Michael",
      last_name: "Chen",
    },
    parameters: "Date Range: 2025-10-01 to 2025-10-31, Group By: Category",
    start_time: "2025-10-28T16:45:30.345678+00:00",
    end_time: "2025-10-28T16:50:12.456789+00:00",
    status: "completed",
  },
  {
    template_id: "d4e5f6a7-b8c9-4d8f-e925-4f3a87656e2j",
    template_name: "Expense Reconciliation",
    template_version: "v1.0",
    prompt_text: "List all unreconciled expenses above $500 for the current month",
    run_id: "d4e5f6a7-b8c9-4d8f-e925-4f3a87656e2j",
    run_version: "v1.0",
    run_by: {
      user_id: "ch3h1f4d-000i-79c9-c7b6-55d1h2c4feee",
      first_name: "Emily",
      last_name: "Williams",
    },
    parameters: "Month: October 2025, Minimum Amount: $500",
    start_time: "2025-10-20T13:15:50.567890+00:00",
    end_time: "2025-10-20T13:22:33.678901+00:00",
    status: "completed",
  },
  {
    template_id: "f6a7b8c9-d0e1-4f0h-gc49-6j5e21090i6n",
    template_name: "Invoice Status Check",
    template_version: "v1.2",
    prompt_text: "Show all invoices pending approval or payment for the last 7 days",
    run_id: "f6a7b8c9-d0e1-4f0h-gc49-6j5e21090i6n",
    run_version: "v1.2",
    run_by: {
      user_id: "ej5j3h6f-222k-9be1-e9d8-77f3j4e6hggg",
      first_name: "Lisa",
      last_name: "Anderson",
    },
    parameters: "Date Range: Last 7 days, Status: Pending",
    start_time: "2025-11-05T09:15:33.456789+00:00",
    end_time: "2025-11-05T09:18:45.567890+00:00",
    status: "completed",
  },
  {
    template_id: "b2c3d4e5-f6a7-4b6d-b691-1c9743212b8f",
    template_name: "Revenue Recognition",
    template_version: "v2.0",
    prompt_text:
      "Generate revenue recognition report for the current month including deferred revenue breakdown",
    run_id: "r1b2c3d4-e5f6-4a5c-a580-0b8632101a7e",
    run_version: "v2.0",
    run_by: {
      user_id: "af1f9d2b-888g-57a7-a594-33b9f0a2dccc",
      first_name: "Sarah",
      last_name: "Johnson",
    },
    parameters: "Period: October 2025, Include Deferred: Yes",
    start_time: "2025-10-25T14:30:22.123456+00:00",
    end_time: "2025-10-25T14:38:45.234567+00:00",
    status: "completed",
  },
  {
    template_id: "d4e5f6a7-b8c9-4d8f-e925-4f3a87656e2j",
    template_name: "Expense Reconciliation",
    template_version: "v1.0",
    prompt_text: "List all unreconciled expenses above $500 for the current month",
    run_id: "r2d4e5f6-a7b8-4c7e-d803-3e1965434d0h",
    run_version: "v1.0",
    run_by: {
      user_id: "ch3h1f4d-000i-79c9-c7b6-55d1h2c4feee",
      first_name: "Emily",
      last_name: "Williams",
    },
    parameters: "Month: September 2025, Minimum Amount: $500",
    start_time: "2025-09-28T11:20:15.789012+00:00",
    end_time: "2025-09-28T11:27:30.890123+00:00",
    status: "completed",
  },
  {
    template_id: "f6a7b8c9-d0e1-4f0h-gc49-6j5e21090i6n",
    template_name: "Invoice Status Check",
    template_version: "v1.2",
    prompt_text: "Show all invoices pending approval or payment for the last 7 days",
    run_id: "r3f6a7b8-c9d0-4e9g-fa26-5g4b98767f3k",
    run_version: "v1.2",
    run_by: {
      user_id: "ej5j3h6f-222k-9be1-e9d8-77f3j4e6hggg",
      first_name: "Lisa",
      last_name: "Anderson",
    },
    parameters: "Date Range: Last 7 days, Status: Pending",
    start_time: "2025-11-04T08:45:30.345678+00:00",
    end_time: "2025-11-04T08:48:50.456789+00:00",
    status: "completed",
  },
  {
    template_id: "a1b2c3d4-e5f6-4a5c-a580-0b8632101a7e",
    template_name: "AP Aging Report",
    template_version: "v1.0",
    prompt_text: "Show me all AP aging details for vendors with outstanding balances over $10,000",
    run_id: "r4a1b2c3-d4e5-4f6g-gb48-6i5d10989h5m",
    run_version: "v1.0",
    run_by: {
      user_id: "9e0e8c1a-777f-4696-9483-22a8e991cbbb",
      first_name: "John",
      last_name: "Doe",
    },
    parameters: "Vendor Balance Threshold: $10,000, As Of: 2025-10-10",
    start_time: "2025-10-10T09:15:22.567890+00:00",
    end_time: "2025-10-10T09:20:33.678901+00:00",
    status: "completed",
  },
];

export async function GET(request: NextRequest) {
  try {
    return NextResponse.json({
      request_id: "templates_manager_86f6bc37-4b91-45c2-9849-e1ea68f9f9f5",
      runs: MOCK_RUNS,
      version: "2.0.9",
      created: "1762341648",
    });
  } catch (error) {
    console.error("Error fetching runs:", error);
    return NextResponse.json({ error: "Failed to fetch runs" }, { status: 500 });
  }
}
