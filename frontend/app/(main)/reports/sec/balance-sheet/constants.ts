import {
  getFinancialRowsForSubsidiaries,
  getPeriodStructure,
  getSubsidiaryStructure,
  getDefaultFilters,
  getWoltFinancialRows,
  type FinancialRow,
} from "@/lib/balance-sheet-api";

// Load default data from API
export const defaultFilters = getDefaultFilters();
export const PERIOD_STRUCTURE = getPeriodStructure();
export const SUBSIDIARY_STRUCTURE = getSubsidiaryStructure();
export const DOORDASH_DATA = getFinancialRowsForSubsidiaries(["BetaFoods, Inc. (Consolidated)"]);
export const WOLT_DATA = getWoltFinancialRows();

// Legacy MOCK_DATA - keeping for backward compatibility during transition
export const MOCK_DATA: FinancialRow[] = [
  // Assets section
  {
    financialRow: "Assets",
    q1_2024: 8101.91,
    q2_2024: 16245.68,
    dollarDifference: 8143.77,
    differencePercent: 100.0,
    group: "assets",
    level: 0,
    expanded: true,
  },
  {
    financialRow: "Current assets",
    q1_2024: 5534.54,
    q2_2024: 13740.31,
    q3_2024: 14250.45,
    q4_2024: 15230.67,
    q1_2023: 4521.23,
    q2_2023: 4890.12,
    dollarDifference: 8205.77,
    differencePercent: 148.0,
    group: "assets",
    level: 1,
  },
  {
    financialRow: "Cash and cash equivalents",
    q1_2024: 3456.78,
    q2_2024: 9234.56,
    q3_2024: 9845.23,
    q4_2024: 10567.89,
    q1_2023: 2890.45,
    q2_2023: 3123.67,
    dollarDifference: 5777.78,
    differencePercent: 167.2,
    group: "assets",
    level: 2,
  },
  {
    financialRow: "Short-term investments",
    q1_2024: 1234.56,
    q2_2024: 2789.45,
    q3_2024: 2890.12,
    q4_2024: 3056.78,
    q1_2023: 987.34,
    q2_2023: 1123.45,
    dollarDifference: 1554.89,
    differencePercent: 125.9,
    group: "assets",
    level: 2,
  },
  {
    financialRow: "Accounts receivable",
    q1_2024: 543.21,
    q2_2024: 1023.45,
    q3_2024: 1089.67,
    q4_2024: 1156.89,
    q1_2023: 456.78,
    q2_2023: 523.45,
    dollarDifference: 480.24,
    differencePercent: 88.4,
    group: "assets",
    level: 2,
  },
  {
    financialRow: "Inventory",
    q1_2024: 298.99,
    q2_2024: 692.85,
    q3_2024: 725.43,
    q4_2024: 449.11,
    q1_2023: 186.66,
    q2_2023: 219.55,
    dollarDifference: 393.86,
    differencePercent: 131.6,
    group: "assets",
    level: 2,
  },
  {
    financialRow: "Long-term restricted cash",
    q1_2024: 0.21,
    q2_2024: 0.21,
    dollarDifference: 0.0,
    differencePercent: 0.0,
    group: "assets",
    level: 1,
  },
  {
    financialRow: "Long-term marketable securities",
    q1_2024: 646.27,
    q2_2024: 668.68,
    dollarDifference: 22.41,
    differencePercent: 3.0,
    group: "assets",
    level: 1,
  },
  {
    financialRow: "Operating lease right-of-use assets",
    q1_2024: 370.56,
    q2_2024: 303.52,
    dollarDifference: -67.05,
    differencePercent: -18.0,
    group: "assets",
    level: 1,
  },
  {
    financialRow: "Property and equipment, net",
    q1_2024: 650.29,
    q2_2024: 640.91,
    dollarDifference: -9.38,
    differencePercent: -1.0,
    group: "assets",
    level: 1,
  },
  {
    financialRow: "Intangible assets, net",
    q1_2024: 55.51,
    q2_2024: 51.48,
    dollarDifference: -4.03,
    differencePercent: -7.0,
    group: "assets",
    level: 1,
  },
  {
    financialRow: "Goodwill",
    q1_2024: 376.17,
    q2_2024: 376.17,
    dollarDifference: 0.0,
    differencePercent: 0.0,
    group: "assets",
    level: 1,
  },
  {
    financialRow: "Non-marketable equity securities",
    q1_2024: 45.67,
    q2_2024: 41.67,
    dollarDifference: -4.0,
    differencePercent: -8.0,
    group: "assets",
    level: 1,
  },
  {
    financialRow: "Other assets",
    q1_2024: 422.7,
    q2_2024: 422.74,
    dollarDifference: 0.04,
    differencePercent: 0.0,
    group: "assets",
    level: 1,
  },
  // Liabilities section
  {
    financialRow: "Liabilities, Redeemable Non-controlling Interests and...",
    q1_2024: 8101.91,
    q2_2024: 17114.62,
    dollarDifference: 9012.71,
    differencePercent: 111.0,
    group: "liabilities",
    level: 0,
    expanded: true,
  },
  {
    financialRow: "Current liabilities",
    q1_2024: 3353.61,
    q2_2024: 12377.87,
    q3_2024: 13145.23,
    q4_2024: 14230.56,
    q1_2023: 2890.45,
    q2_2023: 3123.67,
    dollarDifference: 9024.26,
    differencePercent: 269.0,
    group: "liabilities",
    level: 1,
  },
  {
    financialRow: "Accounts payable",
    q1_2024: 1256.78,
    q2_2024: 4567.89,
    q3_2024: 4890.12,
    q4_2024: 5234.56,
    q1_2023: 1089.23,
    q2_2023: 1234.56,
    dollarDifference: 3311.11,
    differencePercent: 263.5,
    group: "liabilities",
    level: 2,
  },
  {
    financialRow: "Accrued expenses",
    q1_2024: 987.65,
    q2_2024: 3456.78,
    q3_2024: 3678.9,
    q4_2024: 3890.12,
    q1_2023: 856.78,
    q2_2023: 923.45,
    dollarDifference: 2469.13,
    differencePercent: 250.2,
    group: "liabilities",
    level: 2,
  },
  {
    financialRow: "Short-term debt",
    q1_2024: 567.89,
    q2_2024: 2134.56,
    q3_2024: 2234.67,
    q4_2024: 2345.78,
    q1_2023: 456.78,
    q2_2023: 489.12,
    dollarDifference: 1566.67,
    differencePercent: 275.9,
    group: "liabilities",
    level: 2,
  },
  {
    financialRow: "Deferred revenue",
    q1_2024: 541.29,
    q2_2024: 2218.64,
    q3_2024: 2341.54,
    q4_2024: 2760.1,
    q1_2023: 488.66,
    q2_2023: 476.54,
    dollarDifference: 1677.35,
    differencePercent: 309.8,
    group: "liabilities",
    level: 2,
  },
  {
    financialRow: "Operating lease liabilities NCL",
    q1_2024: 409.24,
    q2_2024: 409.24,
    q3_2024: 398.56,
    q4_2024: 387.89,
    q1_2023: 412.45,
    q2_2023: 415.67,
    dollarDifference: 0.0,
    differencePercent: 0.0,
    group: "liabilities",
    level: 1,
  },
  {
    financialRow: "Long-term debt",
    q1_2024: 3456.78,
    q2_2024: 3456.78,
    q3_2024: 3234.56,
    q4_2024: 3012.34,
    q1_2023: 3567.89,
    q2_2023: 3523.45,
    dollarDifference: 0.0,
    differencePercent: 0.0,
    group: "liabilities",
    level: 1,
  },
  {
    financialRow: "Other long-term liabilities",
    q1_2024: 234.56,
    q2_2024: 456.78,
    q3_2024: 489.12,
    q4_2024: 512.34,
    q1_2023: 198.76,
    q2_2023: 223.45,
    dollarDifference: 222.22,
    differencePercent: 94.8,
    group: "liabilities",
    level: 1,
  },
  // Equity section
  {
    financialRow: "Stockholders' Equity",
    q1_2024: 0.0,
    q2_2024: 1130.94,
    q3_2024: 1105.22,
    q4_2024: 1014.11,
    q1_2023: 5211.91,
    q2_2023: 4972.34,
    dollarDifference: 1130.94,
    differencePercent: 100.0,
    group: "equity",
    level: 0,
    expanded: true,
  },
  {
    financialRow: "Common stock",
    q1_2024: 123.45,
    q2_2024: 123.45,
    q3_2024: 123.45,
    q4_2024: 123.45,
    q1_2023: 123.45,
    q2_2023: 123.45,
    dollarDifference: 0.0,
    differencePercent: 0.0,
    group: "equity",
    level: 1,
  },
  {
    financialRow: "Additional paid-in capital",
    q1_2024: 12345.67,
    q2_2024: 12345.67,
    q3_2024: 12456.78,
    q4_2024: 12567.89,
    q1_2023: 12234.56,
    q2_2023: 12234.56,
    dollarDifference: 0.0,
    differencePercent: 0.0,
    group: "equity",
    level: 1,
  },
  {
    financialRow: "Retained earnings (accumulated deficit)",
    q1_2024: -12345.67,
    q2_2024: -11214.73,
    q3_2024: -11475.01,
    q4_2024: -12477.23,
    q1_2023: -1234.56,
    q2_2023: -385.67,
    dollarDifference: 1130.94,
    differencePercent: -9.2,
    group: "equity",
    level: 1,
  },
  {
    financialRow: "Accumulated other comprehensive income (loss)",
    q1_2024: 123.45,
    q2_2024: 123.45,
    q3_2024: 0.0,
    q4_2024: -200.0,
    q1_2023: 87.46,
    q2_2023: -0.0,
    dollarDifference: 0.0,
    differencePercent: 0.0,
    group: "equity",
    level: 1,
  },
];

// Month-to-quarter mapping for period field parsing
export const MONTH_TO_QUARTER: Record<string, string> = {
  Jan: "1",
  Feb: "1",
  Mar: "1",
  Apr: "2",
  May: "2",
  Jun: "2",
  Jul: "3",
  Aug: "3",
  Sep: "3",
  Oct: "4",
  Nov: "4",
  Dec: "4",
};
