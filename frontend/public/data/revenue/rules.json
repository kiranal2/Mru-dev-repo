[
  {
    "id": "RR-PRICE-001",
    "category": "Pricing",
    "name": "Price List Override Detection",
    "description": "Detects invoices where line items deviate from the contracted price list",
    "severity": "High",
    "logic": "IF invoice_unit_price != contract_price_list[product_id] THEN flag",
    "enabled": true,
    "threshold": 5,
    "lastTriggered": "2024-12-10T08:00:00Z",
    "triggerCount": 34
  },
  {
    "id": "RR-PRICE-002",
    "category": "Pricing",
    "name": "Currency Conversion Variance",
    "description": "Flags invoices where currency conversion differs from the agreed FX rate by more than threshold",
    "severity": "Medium",
    "logic": "IF ABS(invoice_fx_rate - contract_fx_rate) / contract_fx_rate > threshold_pct THEN flag",
    "enabled": true,
    "threshold": 2,
    "lastTriggered": "2024-12-08T14:22:00Z",
    "triggerCount": 12
  },
  {
    "id": "RR-PRICE-003",
    "category": "Pricing",
    "name": "Expired Promotional Rate Usage",
    "description": "Detects when promotional pricing is applied beyond the agreed promotional period",
    "severity": "High",
    "logic": "IF invoice_date > promo_end_date AND line_item_price == promo_price THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-05T09:15:00Z",
    "triggerCount": 8
  },
  {
    "id": "RR-BILL-001",
    "category": "Billing",
    "name": "Duplicate Invoice Detection",
    "description": "Identifies potential duplicate invoices for the same customer and period",
    "severity": "Critical",
    "logic": "IF COUNT(invoices WHERE customer_id AND period AND ABS(amount_diff) < 1) > 1 THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-11T11:30:00Z",
    "triggerCount": 6
  },
  {
    "id": "RR-BILL-002",
    "category": "Billing",
    "name": "Missed Billing Cycle",
    "description": "Flags when a scheduled billing cycle is missed for an active contract",
    "severity": "High",
    "logic": "IF contract_status == 'Active' AND days_since_last_invoice > billing_frequency_days + grace_days THEN flag",
    "enabled": true,
    "threshold": 5,
    "lastTriggered": "2024-12-09T07:00:00Z",
    "triggerCount": 18
  },
  {
    "id": "RR-BILL-003",
    "category": "Billing",
    "name": "Usage Metering Discrepancy",
    "description": "Detects when billed usage quantity differs from metered usage by more than threshold percent",
    "severity": "Medium",
    "logic": "IF ABS(billed_usage - metered_usage) / metered_usage > threshold_pct THEN flag",
    "enabled": true,
    "threshold": 3,
    "lastTriggered": "2024-12-12T16:45:00Z",
    "triggerCount": 42
  },
  {
    "id": "RR-BILL-004",
    "category": "Billing",
    "name": "Tax Calculation Error",
    "description": "Validates that tax amounts on invoices match expected rates for the customer jurisdiction",
    "severity": "Medium",
    "logic": "IF ABS(invoice_tax - (taxable_amount * jurisdiction_rate)) > tolerance THEN flag",
    "enabled": true,
    "threshold": 1,
    "lastTriggered": "2024-11-28T10:00:00Z",
    "triggerCount": 15
  },
  {
    "id": "RR-CONT-001",
    "category": "Contract",
    "name": "Contract Term Violation",
    "description": "Detects billing outside the contract start/end dates",
    "severity": "High",
    "logic": "IF invoice_date < contract_start OR invoice_date > contract_end THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-01T08:30:00Z",
    "triggerCount": 5
  },
  {
    "id": "RR-CONT-002",
    "category": "Contract",
    "name": "SLA Credit Not Applied",
    "description": "Identifies when SLA breaches occurred but corresponding credits were not issued",
    "severity": "High",
    "logic": "IF sla_breach_detected AND NOT EXISTS(credit_memo WHERE period AND customer_id) THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-07T13:00:00Z",
    "triggerCount": 9
  },
  {
    "id": "RR-CONT-003",
    "category": "Contract",
    "name": "Auto-Renewal Price Escalation Check",
    "description": "Validates that auto-renewed contracts apply the correct annual price escalation rate",
    "severity": "Medium",
    "logic": "IF renewed AND ABS(new_price - old_price * (1 + escalation_rate)) > tolerance THEN flag",
    "enabled": true,
    "threshold": 2,
    "lastTriggered": "2024-11-15T09:00:00Z",
    "triggerCount": 7
  },
  {
    "id": "RR-DISC-001",
    "category": "Discount",
    "name": "Volume Discount Tier Mismatch",
    "description": "Checks that the correct volume discount tier is applied based on cumulative order quantity",
    "severity": "High",
    "logic": "IF cumulative_qty >= tier_threshold AND applied_discount < tier_discount THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-10T10:00:00Z",
    "triggerCount": 22
  },
  {
    "id": "RR-DISC-002",
    "category": "Discount",
    "name": "Unapproved Discount Application",
    "description": "Flags discounts applied without proper approval workflow completion",
    "severity": "Critical",
    "logic": "IF discount_applied AND NOT EXISTS(approval_record WHERE discount_id) THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-06T15:20:00Z",
    "triggerCount": 4
  },
  {
    "id": "RR-SUB-001",
    "category": "Subscription",
    "name": "Downgrade Without Proration",
    "description": "Detects subscription downgrades where the prorated credit was not applied",
    "severity": "Medium",
    "logic": "IF subscription_tier_decreased AND NOT EXISTS(proration_credit WHERE subscription_id AND period) THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-04T12:00:00Z",
    "triggerCount": 11
  },
  {
    "id": "RR-SUB-002",
    "category": "Subscription",
    "name": "Cancelled Subscription Still Billing",
    "description": "Identifies subscriptions that continue generating invoices after cancellation date",
    "severity": "Critical",
    "logic": "IF subscription_status == 'Cancelled' AND invoice_date > cancellation_date THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-11T09:00:00Z",
    "triggerCount": 3
  },
  {
    "id": "RR-SUB-003",
    "category": "Subscription",
    "name": "Feature Entitlement Mismatch",
    "description": "Checks that billed features match the subscription tier entitlements",
    "severity": "Low",
    "logic": "IF billed_feature NOT IN subscription_tier_features THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-11-20T14:30:00Z",
    "triggerCount": 16
  },
  {
    "id": "RR-COMM-001",
    "category": "Commission",
    "name": "Commission Rate Override Detection",
    "description": "Flags commission payments where the rate differs from the standard commission plan",
    "severity": "Medium",
    "logic": "IF commission_rate != plan_rate[rep_tier][product_category] THEN flag",
    "enabled": true,
    "threshold": 1,
    "lastTriggered": "2024-12-02T08:00:00Z",
    "triggerCount": 19
  },
  {
    "id": "RR-COMM-002",
    "category": "Commission",
    "name": "Double Commission on Renewal",
    "description": "Detects when both new-deal and renewal commissions are paid on the same contract",
    "severity": "High",
    "logic": "IF contract_type == 'Renewal' AND commission_type == 'New Business' THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-11-25T11:00:00Z",
    "triggerCount": 2
  },
  {
    "id": "RR-REC-001",
    "category": "Recognition",
    "name": "Revenue Recognition Timing Error",
    "description": "Validates that revenue is recognized in the correct period per ASC 606 guidelines",
    "severity": "High",
    "logic": "IF recognized_period != delivery_period AND NOT deferred_arrangement THEN flag",
    "enabled": true,
    "threshold": 0,
    "lastTriggered": "2024-12-03T16:00:00Z",
    "triggerCount": 14
  },
  {
    "id": "RR-REC-002",
    "category": "Recognition",
    "name": "Unbilled Revenue Aging Alert",
    "description": "Flags delivered services that have not been invoiced within the standard billing window",
    "severity": "Medium",
    "logic": "IF service_delivered AND days_since_delivery > billing_window_days AND NOT invoiced THEN flag",
    "enabled": true,
    "threshold": 30,
    "lastTriggered": "2024-12-09T10:00:00Z",
    "triggerCount": 21
  },
  {
    "id": "RR-PRICE-004",
    "category": "Pricing",
    "name": "Bundle Discount Calculation Error",
    "description": "Validates that product bundle discounts are calculated correctly based on bundle configuration",
    "severity": "Medium",
    "logic": "IF bundle_discount_applied != expected_bundle_discount(bundle_config) THEN flag",
    "enabled": true,
    "threshold": 2,
    "lastTriggered": "2024-12-08T11:30:00Z",
    "triggerCount": 10
  }
]
