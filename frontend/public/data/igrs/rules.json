[
  {
    "ruleId": "R-VAL-001",
    "ruleName": "Market Value Gap",
    "category": "Valuation",
    "description": "Detects when declared value deviates significantly from rate card value",
    "severity": "High",
    "inputs": [
      "FINAL_TAXABLE_VALUE",
      "UNIT_RATE",
      "extent"
    ],
    "output": "gap_amount",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF declared_value < rate_card_value * 0.85 THEN flag",
    "requiredFields": [
      "FINAL_TAXABLE_VALUE",
      "UNIT_RATE"
    ],
    "falsePositiveNotes": [
      "Special category properties may have different rates",
      "Government-acquired land may have lower declared value"
    ],
    "example": "Declared ₹85L vs expected ₹109.5L"
  },
  {
    "ruleId": "R-VAL-002",
    "ruleName": "Agricultural Land Undervaluation",
    "category": "Valuation",
    "description": "Flags agricultural land transactions where per-acre declared value is below district benchmark",
    "severity": "High",
    "inputs": [
      "FINAL_TAXABLE_VALUE",
      "LAND_EXTENT_ACRES",
      "DISTRICT_BENCHMARK"
    ],
    "output": "gap_amount",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF declared_per_acre < district_benchmark * 0.80 THEN flag",
    "requiredFields": [
      "FINAL_TAXABLE_VALUE",
      "LAND_EXTENT_ACRES"
    ],
    "falsePositiveNotes": [
      "Barren or rocky land may legitimately be below benchmark",
      "Drought-affected areas may show lower values"
    ],
    "example": "Agricultural land declared at ₹8.2L/acre vs benchmark ₹14.8L/acre"
  },
  {
    "ruleId": "R-VAL-003",
    "ruleName": "Flat Rate Underreporting",
    "category": "Valuation",
    "description": "Detects apartment/flat transactions declared below prevailing per-sq.ft rate in the locality",
    "severity": "High",
    "inputs": [
      "FINAL_TAXABLE_VALUE",
      "BUILT_UP_AREA",
      "LOCALITY_RATE"
    ],
    "output": "gap_amount",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF declared_per_sqft < locality_rate * 0.75 THEN flag",
    "requiredFields": [
      "FINAL_TAXABLE_VALUE",
      "BUILT_UP_AREA"
    ],
    "falsePositiveNotes": [
      "Old construction may have depreciation allowance",
      "Ground floor commercial conversion may have different rate"
    ],
    "example": "Apartment declared at ₹5000/sq.ft vs prevailing rate ₹7100/sq.ft"
  },
  {
    "ruleId": "R-VAL-004",
    "ruleName": "Plot Area Rate Mismatch",
    "category": "Valuation",
    "description": "Flags when open plot rate is applied for constructed property or vice versa",
    "severity": "Medium",
    "inputs": [
      "RATE_TYPE_APPLIED",
      "PROPERTY_NATURE",
      "CONSTRUCTION_STATUS"
    ],
    "output": "rate_mismatch_flag",
    "enabled": true,
    "phase": "Phase 2",
    "logic": "IF rate_type = 'open_plot' AND construction_exists THEN flag",
    "requiredFields": [
      "RATE_TYPE_APPLIED",
      "PROPERTY_NATURE"
    ],
    "falsePositiveNotes": [
      "Demolition cases may legitimately use plot rate",
      "Under-construction properties may use plot rate temporarily"
    ],
    "example": "Open plot rate applied for constructed property in Ongole municipality"
  },
  {
    "ruleId": "R-SD-001",
    "ruleName": "Challan Payment Delay",
    "category": "StampDuty",
    "description": "Detects delayed stamp duty challan payments beyond the permissible grace period",
    "severity": "Medium",
    "inputs": [
      "CHALLAN_DATE",
      "REGISTRATION_DATE",
      "GRACE_PERIOD_DAYS"
    ],
    "output": "delay_days",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF (challan_date - registration_date) > grace_period THEN flag",
    "requiredFields": [
      "CHALLAN_DATE",
      "REGISTRATION_DATE"
    ],
    "falsePositiveNotes": [
      "Bank processing delays may cause 1-2 day discrepancies",
      "System downtime days may be excluded"
    ],
    "example": "Challan payment delayed by 18 days beyond registration date"
  },
  {
    "ruleId": "R-SD-002",
    "ruleName": "Stamp Duty Short Collection",
    "category": "StampDuty",
    "description": "Identifies transactions where stamp duty was collected at a lower rate than applicable",
    "severity": "Medium",
    "inputs": [
      "SD_RATE_APPLIED",
      "APPLICABLE_SD_RATE",
      "DOCUMENT_TYPE",
      "CONSIDERATION_VALUE"
    ],
    "output": "short_collection_amount",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF sd_rate_applied < applicable_sd_rate THEN flag",
    "requiredFields": [
      "SD_RATE_APPLIED",
      "DOCUMENT_TYPE"
    ],
    "falsePositiveNotes": [
      "Concession orders may reduce applicable rate",
      "Retroactive rate changes may cause discrepancy"
    ],
    "example": "Stamp duty collected at 5% instead of applicable 6% for lease deed"
  },
  {
    "ruleId": "R-SD-003",
    "ruleName": "Registration Fee Miscalculation",
    "category": "StampDuty",
    "description": "Detects incorrect registration fee slab application based on transaction value",
    "severity": "Medium",
    "inputs": [
      "REG_FEE_COLLECTED",
      "TRANSACTION_VALUE",
      "APPLICABLE_SLAB"
    ],
    "output": "fee_difference",
    "enabled": true,
    "phase": "Phase 2",
    "logic": "IF reg_fee < applicable_slab_fee THEN flag",
    "requiredFields": [
      "REG_FEE_COLLECTED",
      "TRANSACTION_VALUE"
    ],
    "falsePositiveNotes": [
      "Multi-property transactions may have consolidated fee calculation"
    ],
    "example": "Registration fee calculated at lower slab; correct slab is 1% for value above ₹50L"
  },
  {
    "ruleId": "R-SD-004",
    "ruleName": "Delayed Challan Reconciliation",
    "category": "StampDuty",
    "description": "Flags cases where challan reconciliation is pending beyond the threshold period",
    "severity": "Medium",
    "inputs": [
      "CHALLAN_STATUS",
      "RECONCILIATION_DATE",
      "THRESHOLD_DAYS"
    ],
    "output": "pending_reconciliation_flag",
    "enabled": true,
    "phase": "Phase 2",
    "logic": "IF reconciliation_pending_days > threshold THEN flag",
    "requiredFields": [
      "CHALLAN_STATUS",
      "RECONCILIATION_DATE"
    ],
    "falsePositiveNotes": [
      "Treasury system maintenance windows may delay reconciliation"
    ],
    "example": "Challan reconciliation pending for 22 days; penalty interest not levied"
  },
  {
    "ruleId": "R-EXM-001",
    "ruleName": "Invalid Exemption Claim",
    "category": "Exemption",
    "description": "Flags exemption claims where supporting eligibility criteria are not met based on cross-referenced data",
    "severity": "High",
    "inputs": [
      "EXEMPTION_TYPE",
      "PAN_DATA",
      "CASTE_CERTIFICATE",
      "ELIGIBILITY_CRITERIA"
    ],
    "output": "invalid_exemption_flag",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF exemption_claimed AND NOT eligibility_verified THEN flag",
    "requiredFields": [
      "EXEMPTION_TYPE",
      "PAN_DATA"
    ],
    "falsePositiveNotes": [
      "Recent category change may not be reflected in PAN database",
      "Joint registration with eligible party may be valid"
    ],
    "example": "SC/ST exemption claimed but PAN-linked data shows non-eligible category"
  },
  {
    "ruleId": "R-EXM-002",
    "ruleName": "Exemption Without Documentation",
    "category": "Exemption",
    "description": "Detects exemption claims where mandatory supporting documents are missing from the registration file",
    "severity": "Medium",
    "inputs": [
      "EXEMPTION_TYPE",
      "DOCUMENT_CHECKLIST",
      "UPLOADED_DOCUMENTS"
    ],
    "output": "missing_document_flag",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF required_documents NOT IN uploaded_documents THEN flag",
    "requiredFields": [
      "EXEMPTION_TYPE",
      "DOCUMENT_CHECKLIST"
    ],
    "falsePositiveNotes": [
      "Physical documents may be on file but not digitized"
    ],
    "example": "Agricultural exemption claimed without required passbook documentation"
  },
  {
    "ruleId": "R-EXM-003",
    "ruleName": "Family Transfer Exemption Abuse",
    "category": "Exemption",
    "description": "Identifies gift deed family exemptions where parties appear to be unrelated based on PAN and Aadhaar cross-reference",
    "severity": "Medium",
    "inputs": [
      "DEED_TYPE",
      "PARTY_RELATIONSHIP",
      "PAN_RECORDS",
      "AADHAAR_RECORDS"
    ],
    "output": "relationship_mismatch_flag",
    "enabled": true,
    "phase": "Phase 2",
    "logic": "IF deed_type = 'gift' AND family_exemption_claimed AND relationship_not_verified THEN flag",
    "requiredFields": [
      "DEED_TYPE",
      "PARTY_RELATIONSHIP"
    ],
    "falsePositiveNotes": [
      "Adoptive relationships may not show in PAN records",
      "Name variations may cause false mismatch"
    ],
    "example": "Gift deed claims family exemption but parties appear unrelated per PAN records"
  },
  {
    "ruleId": "R-CMP-001",
    "ruleName": "Missing TDS Compliance",
    "category": "Compliance",
    "description": "Detects high-value property transactions where TDS under Section 194-IA has not been deducted",
    "severity": "High",
    "inputs": [
      "TRANSACTION_VALUE",
      "TDS_CERTIFICATE",
      "THRESHOLD_VALUE"
    ],
    "output": "tds_missing_flag",
    "enabled": true,
    "phase": "Phase 2",
    "logic": "IF transaction_value > 50_00_000 AND tds_certificate_missing THEN flag",
    "requiredFields": [
      "TRANSACTION_VALUE",
      "TDS_CERTIFICATE"
    ],
    "falsePositiveNotes": [
      "Agricultural land may be exempt from TDS",
      "NRI transactions may have different TDS provisions"
    ],
    "example": "Sale deed for ₹75L without TDS certificate; Section 194-IA requires 1% TDS above ₹50L"
  },
  {
    "ruleId": "R-CMP-002",
    "ruleName": "PAN Non-Compliance",
    "category": "Compliance",
    "description": "Flags transactions above ₹10L where PAN details of parties are missing or invalid",
    "severity": "Medium",
    "inputs": [
      "TRANSACTION_VALUE",
      "PARTY_PAN_STATUS",
      "PAN_VALIDATION_RESULT"
    ],
    "output": "pan_non_compliance_flag",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF transaction_value > 10_00_000 AND (pan_missing OR pan_invalid) THEN flag",
    "requiredFields": [
      "TRANSACTION_VALUE",
      "PARTY_PAN_STATUS"
    ],
    "falsePositiveNotes": [
      "Form 60 submission may substitute for PAN"
    ],
    "example": "Sale deed for ₹32L with invalid PAN for buyer"
  },
  {
    "ruleId": "R-CMP-003",
    "ruleName": "Prohibited Property Registration",
    "category": "Compliance",
    "description": "Detects registrations of properties in prohibited/restricted zones such as protected areas, mangroves, or defence land",
    "severity": "High",
    "inputs": [
      "SURVEY_NUMBER",
      "PROHIBITED_ZONES_DB",
      "LAND_CLASSIFICATION"
    ],
    "output": "prohibited_match_flag",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF survey_number IN prohibited_zones_db THEN flag",
    "requiredFields": [
      "SURVEY_NUMBER",
      "PROHIBITED_ZONES_DB"
    ],
    "falsePositiveNotes": [
      "De-notified areas may still appear in old prohibited lists",
      "Boundary survey numbers may partially overlap prohibited zone"
    ],
    "example": "Property registered in prohibited zone near Tirumala Hills"
  },
  {
    "ruleId": "R-CMP-004",
    "ruleName": "Power of Attorney Misuse",
    "category": "Compliance",
    "description": "Flags GPA-based sales that circumvent stamp duty obligations",
    "severity": "High",
    "inputs": [
      "DEED_TYPE",
      "GPA_REFERENCE",
      "PREVIOUS_TRANSACTIONS"
    ],
    "output": "gpa_misuse_flag",
    "enabled": true,
    "phase": "Phase 2",
    "logic": "IF deed_type = 'GPA' AND subsequent_sale_detected THEN flag",
    "requiredFields": [
      "DEED_TYPE",
      "GPA_REFERENCE"
    ],
    "falsePositiveNotes": [
      "Genuine GPA for NRI property management may be flagged"
    ],
    "example": "GPA executed for ₹5L followed by possession transfer worth ₹45L"
  },
  {
    "ruleId": "R-OPS-001",
    "ruleName": "Holiday Registration Fee",
    "category": "Operational",
    "description": "Detects registrations processed on public holidays or Sundays without collecting mandatory holiday surcharge fee",
    "severity": "Medium",
    "inputs": [
      "REGISTRATION_DATE",
      "HOLIDAY_CALENDAR",
      "HOLIDAY_FEE_COLLECTED"
    ],
    "output": "missing_holiday_fee",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF registration_date IN holiday_calendar AND holiday_fee_not_collected THEN flag",
    "requiredFields": [
      "REGISTRATION_DATE",
      "HOLIDAY_CALENDAR"
    ],
    "falsePositiveNotes": [
      "Special government working days may not require holiday fee"
    ],
    "example": "Registration processed on Republic Day without additional fee"
  },
  {
    "ruleId": "R-OPS-002",
    "ruleName": "Sunday/Holiday Processing",
    "category": "Operational",
    "description": "Identifies bulk registrations processed on holidays which may indicate systemic fee evasion",
    "severity": "Medium",
    "inputs": [
      "REGISTRATION_DATE",
      "HOLIDAY_CALENDAR",
      "REGISTRATION_COUNT"
    ],
    "output": "bulk_holiday_flag",
    "enabled": true,
    "phase": "Phase 2",
    "logic": "IF registration_date IS sunday AND registration_count > threshold THEN flag",
    "requiredFields": [
      "REGISTRATION_DATE",
      "HOLIDAY_CALENDAR"
    ],
    "falsePositiveNotes": [
      "End-of-month processing backlogs may spill into holidays"
    ],
    "example": "8 documents processed on Sunday without holiday surcharge"
  },
  {
    "ruleId": "R-OPS-003",
    "ruleName": "Christmas Holiday Processing",
    "category": "Operational",
    "description": "Specific check for registrations on Christmas and other optional holiday dates without surcharge",
    "severity": "Low",
    "inputs": [
      "REGISTRATION_DATE",
      "OPTIONAL_HOLIDAY_LIST",
      "HOLIDAY_FEE_COLLECTED"
    ],
    "output": "optional_holiday_fee_flag",
    "enabled": true,
    "phase": "Phase 2",
    "logic": "IF registration_date IN optional_holidays AND fee_not_collected THEN flag",
    "requiredFields": [
      "REGISTRATION_DATE",
      "OPTIONAL_HOLIDAY_LIST"
    ],
    "falsePositiveNotes": [
      "Optional holidays may vary by region within the state"
    ],
    "example": "Registration on Christmas Eve without holiday fee; borderline case"
  },
  {
    "ruleId": "R-SYS-001",
    "ruleName": "Data Field Mismatch",
    "category": "Systemic",
    "description": "Detects inconsistencies between IGRS data fields and linked external databases (land records, municipal records)",
    "severity": "Low",
    "inputs": [
      "IGRS_FIELDS",
      "LAND_RECORD_FIELDS",
      "MUNICIPAL_RECORD_FIELDS"
    ],
    "output": "mismatch_count",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF igrs_field_value != external_db_value FOR critical_fields THEN flag",
    "requiredFields": [
      "IGRS_FIELDS",
      "LAND_RECORD_FIELDS"
    ],
    "falsePositiveNotes": [
      "Legacy data migration may cause format-level discrepancies",
      "Survey number format variations across systems"
    ],
    "example": "Extent field inconsistency between IGRS and land records"
  },
  {
    "ruleId": "R-SYS-002",
    "ruleName": "Duplicate Receipt Entry",
    "category": "Systemic",
    "description": "Identifies duplicate or near-duplicate receipt entries in the payment system that may indicate processing errors",
    "severity": "Low",
    "inputs": [
      "RECEIPT_NUMBER",
      "RECEIPT_AMOUNT",
      "RECEIPT_DATE",
      "TRANSACTION_ID"
    ],
    "output": "duplicate_flag",
    "enabled": true,
    "phase": "Phase 1",
    "logic": "IF receipt_similarity_score > 0.95 AND different_transaction_ids THEN flag",
    "requiredFields": [
      "RECEIPT_NUMBER",
      "RECEIPT_AMOUNT"
    ],
    "falsePositiveNotes": [
      "Partial payments may generate similar receipts",
      "Correction entries may appear as duplicates"
    ],
    "example": "Duplicate receipt entry detected; minor rounding difference of ₹5000"
  },
  {
    "ruleId": "R-CR-001",
    "ruleName": "Daily Cash Collection Mismatch",
    "category": "StampIntelligence",
    "description": "Flags offices where daily cash collected at the counter does not match the treasury deposit within the tolerance threshold",
    "severity": "High",
    "inputs": ["DAILY_COLLECTION_TOTAL", "TREASURY_DEPOSIT_AMOUNT", "OFFICE_CODE", "COLLECTION_DATE"],
    "output": "cash_reconciliation_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF ABS(daily_collection - treasury_deposit) > threshold_inr AND discrepancy_pct > 2% THEN flag",
    "requiredFields": ["DAILY_COLLECTION_TOTAL", "TREASURY_DEPOSIT_AMOUNT"],
    "falsePositiveNotes": ["End-of-day deposits crossing midnight may cause date-boundary mismatches", "Partial deposits split across days"],
    "example": "SRO Vijayawada: ₹4.5L collected but only ₹4.1L deposited — ₹40K gap flagged"
  },
  {
    "ruleId": "R-CR-002",
    "ruleName": "Delayed Treasury Deposit",
    "category": "StampIntelligence",
    "description": "Detects cases where cash collected at the SRO counter is not deposited to the treasury within the mandated timeframe",
    "severity": "Medium",
    "inputs": ["COLLECTION_DATE", "DEPOSIT_DATE", "DEPOSIT_AMOUNT", "OFFICE_CODE"],
    "output": "deposit_delay_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF (deposit_date - collection_date) > max_allowed_days THEN flag",
    "requiredFields": ["COLLECTION_DATE", "DEPOSIT_DATE"],
    "falsePositiveNotes": ["Bank holidays between collection and deposit", "Weekend deposits processed on Monday"],
    "example": "SRO Guntur: ₹2.8L collection on Monday, deposit on Friday — 4-day delay exceeds 2-day mandate"
  },
  {
    "ruleId": "R-CR-003",
    "ruleName": "Unusual Cash Pattern",
    "category": "StampIntelligence",
    "description": "Identifies abnormal patterns in daily cash collection volumes that deviate significantly from the office's historical baseline",
    "severity": "Medium",
    "inputs": ["DAILY_COLLECTION_TOTAL", "OFFICE_CODE", "HISTORICAL_BASELINE"],
    "output": "unusual_cash_pattern",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF daily_collection < (baseline * 0.5) OR daily_collection > (baseline * 2.0) THEN flag",
    "requiredFields": ["DAILY_COLLECTION_TOTAL"],
    "falsePositiveNotes": ["Festival seasons may cause legitimate spikes", "Office closures for maintenance"],
    "example": "SRO Tirupati: ₹12L collected vs 30-day avg of ₹5.2L — 131% spike on Sankranti week"
  },
  {
    "ruleId": "R-CR-004",
    "ruleName": "Receipt-Challan Cross-Reference Failure",
    "category": "StampIntelligence",
    "description": "Flags transactions where the receipt amount cannot be reconciled against the corresponding challan entry in the treasury system",
    "severity": "High",
    "inputs": ["RECEIPT_NUMBER", "RECEIPT_AMOUNT", "CHALLAN_NUMBER", "CHALLAN_AMOUNT"],
    "output": "receipt_challan_mismatch",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF receipt_amount != challan_amount AND no_adjustment_entry THEN flag",
    "requiredFields": ["RECEIPT_NUMBER", "CHALLAN_NUMBER"],
    "falsePositiveNotes": ["Partial challans for split transactions", "Manual correction entries pending"],
    "example": "Receipt R-23456 for ₹85K but challan C-7890 shows ₹78K — ₹7K unaccounted"
  },
  {
    "ruleId": "R-SI-001",
    "ruleName": "Stamp Paper Inventory Shortage",
    "category": "StampIntelligence",
    "description": "Detects offices where physical stamp paper inventory count is lower than expected based on opening stock, receipts, and sales",
    "severity": "High",
    "inputs": ["OPENING_STOCK", "STAMPS_RECEIVED", "STAMPS_SOLD", "PHYSICAL_COUNT", "OFFICE_CODE"],
    "output": "stamp_shortage_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF physical_count < (opening + received - sold) AND variance > tolerance THEN flag",
    "requiredFields": ["OPENING_STOCK", "STAMPS_SOLD", "PHYSICAL_COUNT"],
    "falsePositiveNotes": ["Damaged stamps not yet written off", "Transfer between offices in transit"],
    "example": "SRO Rajahmundry: Expected 450 stamps, physical count 438 — 12 stamps (₹1.2L denomination) missing"
  },
  {
    "ruleId": "R-SI-002",
    "ruleName": "Stamp Paper Surplus Anomaly",
    "category": "StampIntelligence",
    "description": "Flags offices where physical inventory exceeds expected count, indicating potential unauthorized procurement or return fraud",
    "severity": "Medium",
    "inputs": ["OPENING_STOCK", "STAMPS_RECEIVED", "STAMPS_SOLD", "PHYSICAL_COUNT", "OFFICE_CODE"],
    "output": "stamp_surplus_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF physical_count > (opening + received - sold) AND surplus > 5 THEN flag",
    "requiredFields": ["OPENING_STOCK", "STAMPS_SOLD", "PHYSICAL_COUNT"],
    "falsePositiveNotes": ["Voided stamps returned to inventory", "Inter-office transfers not yet logged"],
    "example": "SRO Nellore: Expected 200 stamps, physical count 215 — 15 surplus stamps unexplained"
  },
  {
    "ruleId": "R-SI-003",
    "ruleName": "High-Denomination Stamp Velocity",
    "category": "StampIntelligence",
    "description": "Monitors the rate of high-denomination stamp paper usage and flags unusual velocity compared to historical patterns",
    "severity": "Medium",
    "inputs": ["STAMP_DENOMINATION", "DAILY_USAGE_COUNT", "HISTORICAL_VELOCITY", "OFFICE_CODE"],
    "output": "stamp_velocity_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF denomination >= 10000 AND daily_usage > (historical_avg * 3) THEN flag",
    "requiredFields": ["STAMP_DENOMINATION", "DAILY_USAGE_COUNT"],
    "falsePositiveNotes": ["Bulk registration drives by developers", "Court-ordered registration backlogs"],
    "example": "SRO Visakhapatnam: 25 stamps of ₹10K used in one day vs avg of 6/day — 317% spike"
  },
  {
    "ruleId": "R-SI-004",
    "ruleName": "Stamp Denomination Mismatch",
    "category": "StampIntelligence",
    "description": "Detects transactions where the stamp paper denomination used does not match the required duty amount for the document type and value",
    "severity": "Low",
    "inputs": ["DOCUMENT_VALUE", "STAMP_DENOMINATION", "REQUIRED_DUTY", "DOCUMENT_TYPE"],
    "output": "denomination_mismatch_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF stamp_denomination < required_duty AND no_supplementary_stamp THEN flag",
    "requiredFields": ["STAMP_DENOMINATION", "REQUIRED_DUTY"],
    "falsePositiveNotes": ["Multiple stamps used to make up the value", "Pre-stamped documents from notary"],
    "example": "Sale deed of ₹35L requires ₹2.1L duty but ₹1L stamp used — ₹1.1L deficit"
  },
  {
    "ruleId": "R-VAL-005",
    "ruleName": "Repeated Undervaluation by Party",
    "category": "Valuation",
    "description": "Identifies parties involved in multiple transactions where declared values consistently fall below the market rate card",
    "severity": "High",
    "inputs": ["PARTY_PAN", "PARTY_NAME", "DECLARED_VALUES", "RATE_CARD_VALUES", "TRANSACTION_HISTORY"],
    "output": "repeat_undervaluation_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF party_transactions >= 3 AND avg_deviation_pct > 15% THEN flag",
    "requiredFields": ["PARTY_PAN", "DECLARED_VALUES"],
    "falsePositiveNotes": ["Genuine distress sales", "Properties in declining market areas"],
    "example": "PAN ABCDE1234F involved in 5 sales, average undervaluation of 22% across all transactions"
  },
  {
    "ruleId": "R-VAL-006",
    "ruleName": "Localized Rate Card Stale Detection",
    "category": "Valuation",
    "description": "Detects locations where the government rate card has not been updated in line with actual transaction trends, leading to systematic undervaluation",
    "severity": "Medium",
    "inputs": ["LOCATION_CODE", "RATE_CARD_DATE", "RECENT_TRANSACTION_VALUES", "MARKET_INDICES"],
    "output": "stale_rate_card_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF rate_card_age > 12_months AND median_declared > rate_card * 1.3 THEN flag",
    "requiredFields": ["LOCATION_CODE", "RATE_CARD_DATE"],
    "falsePositiveNotes": ["Rate card updates in progress", "Areas with limited transaction volume"],
    "example": "Kondapur zone: rate card at ₹5500/sq.ft (2023) but median declared ₹7800/sq.ft — 42% above card"
  },
  {
    "ruleId": "R-CMP-005",
    "ruleName": "Multiple Registrations Same Day Single Party",
    "category": "Compliance",
    "description": "Flags instances where the same party executes multiple registrations on the same day, which may indicate structuring to avoid higher duty slabs",
    "severity": "Medium",
    "inputs": ["PARTY_PAN", "REGISTRATION_DATE", "DOCUMENT_COUNT", "TOTAL_VALUE"],
    "output": "structuring_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF same_party_same_day_registrations >= 2 AND combined_value > slab_threshold THEN flag",
    "requiredFields": ["PARTY_PAN", "REGISTRATION_DATE"],
    "falsePositiveNotes": ["Apartment complex bulk registrations", "Family settlement deeds executed together"],
    "example": "PAN XYZAB5678C: 3 registrations on same day totalling ₹1.8Cr — possible slab avoidance"
  },
  {
    "ruleId": "R-CMP-006",
    "ruleName": "Cross-Office Pattern Detection",
    "category": "Compliance",
    "description": "Identifies parties or agents who use different SRO offices to register similar properties, potentially shopping for lenient valuation",
    "severity": "High",
    "inputs": ["PARTY_PAN", "AGENT_ID", "OFFICE_CODE", "DOCUMENT_TYPE", "PROPERTY_LOCATION"],
    "output": "office_shopping_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF same_party_different_offices >= 2 AND similar_property_type AND valuation_variance > 20% THEN flag",
    "requiredFields": ["PARTY_PAN", "OFFICE_CODE"],
    "falsePositiveNotes": ["Properties genuinely in different jurisdictions", "Corporate entities with multi-location holdings"],
    "example": "Agent A-789: registered 4 similar plots across 3 SROs with valuations varying 18-35%"
  },
  {
    "ruleId": "R-EXM-004",
    "ruleName": "Exemption Stacking Detection",
    "category": "Exemption",
    "description": "Detects transactions claiming multiple exemption categories simultaneously to maximize duty reduction beyond legitimate entitlement",
    "severity": "High",
    "inputs": ["EXEMPTION_CODES", "EXEMPTION_AMOUNTS", "DOCUMENT_VALUE", "PARTY_CATEGORY"],
    "output": "exemption_stacking_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF exemption_count >= 2 AND combined_exemption_pct > max_allowed_pct THEN flag",
    "requiredFields": ["EXEMPTION_CODES", "EXEMPTION_AMOUNTS"],
    "falsePositiveNotes": ["Genuine multi-category eligibility (e.g., woman + SC/ST)", "Government-to-government transfers"],
    "example": "Transaction claims SC/ST + woman buyer + agricultural exemptions — combined 85% duty waiver"
  },
  {
    "ruleId": "R-EXM-005",
    "ruleName": "Repeat Exemption Claimant",
    "category": "Exemption",
    "description": "Identifies parties who claim exemptions across multiple transactions exceeding the lifetime or annual limit for the exemption category",
    "severity": "Medium",
    "inputs": ["PARTY_PAN", "EXEMPTION_CODE", "CLAIM_COUNT", "TOTAL_EXEMPTED_AMOUNT"],
    "output": "repeat_exemption_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF same_party_exemption_claims > annual_limit OR total_exempted > max_lifetime_amount THEN flag",
    "requiredFields": ["PARTY_PAN", "EXEMPTION_CODE"],
    "falsePositiveNotes": ["Joint family transactions on behalf of different members", "Genuine repeat small-value transactions"],
    "example": "PAN MNOPQ1234R: claimed SC/ST exemption on 4 transactions in 2024 totalling ₹8.5L duty waived"
  },
  {
    "ruleId": "R-VAL-007",
    "ruleName": "Webland Classification Cross-Verify",
    "category": "Valuation",
    "description": "Cross-verifies the land classification declared in registration Form 1/Form 2 against official Webland/MeeBhoomi government land records. Flags mismatches where parties declare commercial land as agricultural or residential to pay lower stamp duty rates.",
    "severity": "High",
    "inputs": ["TRAN_SCHED", "SURVEY_NUMBER", "VILLAGE_CODE", "MANDAL_CODE", "FORM1_CLASSIFICATION", "WEBLAND_CLASSIFICATION"],
    "output": "webland_classification_mismatch",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF webland.getClassification(surveyNo, village, mandal) !== form1.declaredClassification THEN flag",
    "requiredFields": ["SURVEY_NUMBER", "FORM1_CLASSIFICATION"],
    "falsePositiveNotes": ["Recent land-use conversion orders not yet reflected in Webland", "Panchayat-level reclassifications pending state update"],
    "example": "Survey 245/A in Kondapur declared as 'Agricultural' in Form 1 but Webland shows 'Commercial' — stamp duty differential of ₹1.45L"
  },
  {
    "ruleId": "R-EXM-006",
    "ruleName": "Government Party Impersonation via PAN/Aadhaar",
    "category": "Exemption",
    "description": "Flags registrations where a government party type is selected (triggering stamp duty exemptions) but PAN/Aadhaar verification reveals the party is actually a private individual or private company. This is a direct exemption fraud vector since government-to-government transfers are exempt from stamp duty.",
    "severity": "High",
    "inputs": ["PARTY_TYPE", "PARTY_PAN", "PARTY_AADHAAR", "PAN_ENTITY_PREFIX", "AADHAAR_ENTITY_TYPE"],
    "output": "government_impersonation_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF party.partyType === 'Government' AND (pan.entityPrefix NOT IN ['A','L','G'] OR aadhaar.entityType === 'Individual') THEN flag",
    "requiredFields": ["PARTY_TYPE", "PARTY_PAN"],
    "falsePositiveNotes": ["Government-owned corporations with private PAN prefixes", "PSU entities registered under older PAN categories"],
    "example": "Party listed as 'Government of AP' but PAN prefix 'B' indicates private individual — ₹1.85L exemption potentially fraudulent"
  },
  {
    "ruleId": "R-EXM-007",
    "ruleName": "Exemption on Misclassified Property",
    "category": "Exemption",
    "description": "Detects exemptions applied to properties whose actual land classification (per Webland/MeeBhoomi records) does not match the classification required for the claimed exemption category. For example, agricultural exemptions claimed on commercially classified land.",
    "severity": "High",
    "inputs": ["EXEMPTION_CODE", "FORM1_CLASSIFICATION", "WEBLAND_CLASSIFICATION", "SURVEY_NUMBER", "PROPERTY_VALUE"],
    "output": "exemption_classification_mismatch",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF exemption.requiredClassification !== webland.getClassification(surveyNo, village, mandal) THEN flag",
    "requiredFields": ["EXEMPTION_CODE", "SURVEY_NUMBER", "FORM1_CLASSIFICATION"],
    "falsePositiveNotes": ["Recent land-use conversion orders not yet reflected in Webland", "Mixed-use properties with partial agricultural use"],
    "example": "Agricultural exemption (Section 3(a)) claimed on Survey 312/B in Mangalagiri — Webland shows 'Commercial' classification since 2022; stamp duty exemption of ₹2.85L is invalid"
  },
  {
    "ruleId": "R-CR-005",
    "ruleName": "Challan Reuse Across Documents",
    "category": "StampIntelligence",
    "description": "Detects instances where the same challan number is used to claim payment for multiple registered documents or across different Heads of Account (HOA), indicating potential duplicate use of a single payment instrument",
    "severity": "High",
    "inputs": ["CHALLAN_NUMBER", "DOCUMENT_ID", "HOA_CODE", "REGISTRATION_DATE", "CHALLAN_AMOUNT"],
    "output": "challan_reuse_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF challan_number IN (SELECT challan_number FROM registrations GROUP BY challan_number HAVING COUNT(DISTINCT document_id) > 1) THEN flag",
    "requiredFields": ["CHALLAN_NUMBER", "DOCUMENT_ID"],
    "falsePositiveNotes": ["Consolidated challans covering multiple documents in a single transaction batch", "Correction entries that reference the original challan"],
    "example": "Challan CH-1010-20250115-003 used for 2 separate Sale Deeds at Anantapur SRO — ₹1.75L total involved"
  },
  {
    "ruleId": "R-CR-006",
    "ruleName": "Failed/Rejected Challan Used for Registration",
    "category": "StampIntelligence",
    "description": "Flags registrations where the associated challan has been rejected, expired, cancelled, or bounced in the CFMS/Treasury system but was still accepted for document registration",
    "severity": "High",
    "inputs": ["CHALLAN_NUMBER", "CFMS_STATUS", "CFMS_REJECTION_DATE", "REGISTRATION_DATE", "DOCUMENT_ID"],
    "output": "failed_challan_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF cfms_status IN ('Rejected by Treasury', 'Expired', 'Invalid HOA', 'Cancelled', 'Bounced') AND registration_completed = true THEN flag",
    "requiredFields": ["CHALLAN_NUMBER", "CFMS_STATUS"],
    "falsePositiveNotes": ["Challans reissued after correction may still show old rejection status", "Status sync delays between CFMS and IGRS"],
    "example": "Challan CH-1010-20250108-012 rejected by Treasury on Jan 8, but registration completed on Jan 13 — ₹3.20L at risk"
  },
  {
    "ruleId": "R-CR-007",
    "ruleName": "Defaced Challan Cross-Verification with CFMS",
    "category": "StampIntelligence",
    "description": "Cross-verifies physical challan status against CFMS-synced records to detect defaced, tampered, or altered challans that have been accepted for registration. Flags cases where the physical challan shows signs of defacement (overwriting, erasure, serial number alteration) but CFMS records show the original challan as valid",
    "severity": "High",
    "inputs": ["CHALLAN_NUMBER", "PHYSICAL_CHALLAN_SCAN", "CFMS_CHALLAN_RECORD", "CHALLAN_SERIAL", "CHALLAN_AMOUNT", "OFFICE_CODE"],
    "output": "defaced_challan_alert",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF (challan.physicalStatus = 'Defaced' OR challan.serialMismatch = true OR challan.amountAltered = true) AND cfms.challanStatus = 'Valid' THEN flag",
    "requiredFields": ["CHALLAN_NUMBER", "CFMS_CHALLAN_RECORD"],
    "falsePositiveNotes": ["Wear and tear on old challans may trigger false defacement alerts", "Scanner quality issues may cause false serial number mismatch", "Handwritten corrections by authorized officers with initials"],
    "example": "Challan CH-SR03-20250105-009 shows amount overwriting (₹45K altered to ₹4.5L) but CFMS confirms original amount ₹45K — ₹4.05L discrepancy flagged"
  },
  {
    "ruleId": "R-CR-008",
    "ruleName": "Next-Day MIS Remittance Mismatch",
    "category": "StampIntelligence",
    "description": "Compares the daily office cash collection total with the next-day MIS (Management Information System) remittance report to detect discrepancies in reported amounts, delayed MIS submissions, and receipt count mismatches between counter collection and MIS filing",
    "severity": "High",
    "inputs": ["DAILY_COLLECTION_TOTAL", "MIS_REMITTANCE_AMOUNT", "COLLECTION_DATE", "MIS_SUBMISSION_DATE", "RECEIPT_COUNT", "MIS_RECEIPT_COUNT", "OFFICE_CODE"],
    "output": "mis_remittance_mismatch",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF ABS(daily_collection - mis_remittance) > threshold_inr OR (mis_submission_date - collection_date) > 1 day OR receipt_count != mis_receipt_count THEN flag",
    "requiredFields": ["DAILY_COLLECTION_TOTAL", "MIS_REMITTANCE_AMOUNT", "COLLECTION_DATE", "MIS_SUBMISSION_DATE"],
    "falsePositiveNotes": ["MIS system downtime may delay submission by 1 additional day", "End-of-month reconciliation adjustments may cause legitimate variances", "Cash denomination rounding in manual MIS entries"],
    "example": "SRO Chittoor: Day-1 collection ₹6.8L (32 receipts) vs Day-2 MIS report ₹5.9L (28 receipts) — ₹90K variance and 4 receipt shortfall"
  },
  {
    "ruleId": "R-CF-001",
    "ruleName": "Webland Classification Mismatch",
    "category": "Classification",
    "description": "Detects when the property classification declared in registration Form 1/Form 2 does not match the official Webland/MeeBhoomi government land records, indicating potential misclassification to reduce stamp duty",
    "severity": "High",
    "inputs": ["SURVEY_NUMBER", "VILLAGE_CODE", "MANDAL_CODE", "FORM1_CLASSIFICATION", "FORM2_CLASSIFICATION", "WEBLAND_CLASSIFICATION"],
    "output": "classification_mismatch_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF webland.getClassification(surveyNo, village, mandal) !== form1.declaredClassification THEN flag",
    "requiredFields": ["SURVEY_NUMBER", "FORM1_CLASSIFICATION", "WEBLAND_CLASSIFICATION"],
    "falsePositiveNotes": ["Recent land-use conversion orders not yet reflected in Webland", "Panchayat-level reclassifications pending state update", "Mixed-use properties with partial classification overlap"],
    "example": "Survey 245/A in Kondapur: Form 1 declares 'Residential' but Webland shows 'Commercial' — stamp duty differential of ₹1.8L"
  },
  {
    "ruleId": "R-CF-002",
    "ruleName": "Commercial-to-Residential Downgrade",
    "category": "Classification",
    "description": "Flags transactions where commercial or industrial property is registered as residential to pay lower stamp duty rates. Cross-verifies Webland classification against declared property type in registration documents",
    "severity": "High",
    "inputs": ["WEBLAND_CLASSIFICATION", "FORM2_CLASSIFICATION", "PROPERTY_NATURE", "STAMP_DUTY_RATE_APPLIED"],
    "output": "commercial_downgrade_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF webland.classification IN ('Commercial', 'Industrial') AND form2.classification = 'Residential' THEN flag",
    "requiredFields": ["WEBLAND_CLASSIFICATION", "FORM2_CLASSIFICATION"],
    "falsePositiveNotes": ["Genuine residential conversion with approved municipal order", "Mixed-use properties where residential portion is dominant"],
    "example": "Plot in Madhapur commercial zone registered as 'Residential' — duty rate 5% applied instead of correct 7%, gap ₹1.8L"
  },
  {
    "ruleId": "R-CF-003",
    "ruleName": "Form 1/Form 2 Classification Discrepancy",
    "category": "Classification",
    "description": "Detects cases where the land classification changed between Form 1 (presentation) and Form 2 (registration), which may indicate manipulation during the registration process",
    "severity": "Medium",
    "inputs": ["FORM1_CLASSIFICATION", "FORM2_CLASSIFICATION", "PRESENTATION_DATE", "REGISTRATION_DATE"],
    "output": "form_discrepancy_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF form1.classification !== form2.classification AND no_conversion_order THEN flag",
    "requiredFields": ["FORM1_CLASSIFICATION", "FORM2_CLASSIFICATION"],
    "falsePositiveNotes": ["Correction of genuine data entry error between presentation and registration", "Approved land-use conversion between presentation and registration dates"],
    "example": "Form 1 filed as 'Commercial' on Nov 15, but Form 2 registered as 'Agricultural' on Dec 2 — classification changed without conversion order"
  },
  {
    "ruleId": "R-CF-004",
    "ruleName": "Repeated Reclassification by Same Party",
    "category": "Classification",
    "description": "Identifies parties involved in multiple transactions where property classification has been changed, indicating a pattern of systematic classification manipulation to reduce stamp duty",
    "severity": "High",
    "inputs": ["PARTY_PAN", "PARTY_NAME", "CLASSIFICATION_HISTORY", "TRANSACTION_COUNT"],
    "output": "repeat_reclassification_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF same_party_classification_changes >= 3 AND suspicious_pattern THEN flag",
    "requiredFields": ["PARTY_PAN", "CLASSIFICATION_HISTORY"],
    "falsePositiveNotes": ["Genuine real estate developers may have multiple classification changes across projects", "Joint family transactions across different land types"],
    "example": "PAN ABCDE5678F involved in 4 transactions with classification changes — all from Commercial/Industrial to Residential/Agricultural, total duty gap ₹3.2L"
  },
  {
    "ruleId": "R-CF-005",
    "ruleName": "Agricultural Land in Urban Zone",
    "category": "Classification",
    "description": "Flags properties declared as agricultural land that fall within municipal or urban development authority limits where agricultural classification is unlikely and may be used to claim lower stamp duty or agricultural exemptions",
    "severity": "Medium",
    "inputs": ["FORM1_CLASSIFICATION", "SURVEY_NUMBER", "MUNICIPAL_LIMITS", "UDA_LIMITS", "ZONE_TYPE"],
    "output": "urban_agricultural_flag",
    "enabled": true,
    "phase": "Phase 3",
    "logic": "IF form1.classification = 'Agricultural' AND (survey_within_municipal_limits OR survey_within_uda) THEN flag",
    "requiredFields": ["FORM1_CLASSIFICATION", "SURVEY_NUMBER", "MUNICIPAL_LIMITS"],
    "falsePositiveNotes": ["Genuine agricultural pockets within city limits with valid pattadar passbook", "Recently annexed areas where agricultural use continues legally"],
    "example": "Survey 128/B in Mangalagiri Municipal limits declared as 'Agricultural' — property within UDA zone, agricultural exemption of ₹4.5L likely invalid"
  }
]
